@{
    TempData.Keep();
    Layout = "Layouts/_CommonMasterLayout";

    TempData["menuHorizontal"] = false;
    ViewData["contentNavbar"] = false;

    @* Display elements *@
    ViewData["isNavbar"] = (ViewData["isNavbar"] ??= true);
    ViewData["isMenu"] = (ViewData["isMenu"] ??= true);
    ViewData["isFlex"] = (ViewData["isFlex"] ??= false);
    ViewData["isFooter"] = (ViewData["isFooter"] ??= true);

    @*HTML Classes *@
    ViewData["menuFixed"] = (ViewData["menuFixed"] ?? "layout-menu-fixed");
    ViewData["navbarType"] = (ViewData["navbarType"] ?? "layout-navbar-fixed");

    @*Content classes *@
    ViewData["container"] = (ViewData["container"] ?? "container-xxl");
    ViewData["containerNav"] = (ViewData["containerNav"] ?? "container-xxl");

}

@section VendorStyles {
    @RenderSection("VendorStyles", required: false)
}

@section PageStyles {
    @RenderSection("PageStyles", required: false)
}

@section VendorScripts {
    @RenderSection("VendorScripts", required: false)
}

@section PageScripts {
    @RenderSection("PageScripts", required: false)
}

<style>
    .page-content-global {
        display: none;
    }

    .loader {
        display: block;
        text-align: center;
        margin-top: 20px;
    }
</style>

@{
    bool isMenu = ViewData["isMenu"] != null && Convert.ToBoolean(ViewData["isMenu"]);
}

<div class='layout-wrapper layout-content-navbar @(isMenu ? "" : "layout-without-menu")'>
    <div class='layout-container'>

        <div class="mx-auto">

            <div class="content-wrapper position-relative">

                <div class="@(ViewData["container"]) + @(Convert.ToBoolean(ViewData["isFlex"]) ? "d-flex align-items-stretch flex-grow-1 p-0" : "flex-grow-1 container-p-y")">
                    <div id="preloader" class="position-absolute" style="display:none; margin-top: -3.5rem">
                        <div class="loader d-flex m-auto">
                            <img src="~/img/favicon/logojanox.png" class="mx-2 my-1" alt="logo" width="35px" height="35px">
                        </div>
                    </div>

                    <div id="page-content-global">
                        @RenderBody()
                    </div>
                </div>

                @if (@ViewData["isFooter"] != null && Convert.ToBoolean(@ViewData["isFooter"]))
                {
                    @await Html.PartialAsync("Layouts/Sections/Footer/_Footer")
                }
                <div class="content-backdrop fade"></div>
            </div>
        </div>
    </div>

    @if (@ViewData["isMenu"] != null && Convert.ToBoolean(@ViewData["isMenu"]))
    {
        <div class="layout-overlay layout-menu-toggle"></div>
    }

    <div class="drag-target"></div>
    
</div>

